# Web+PostgreSQL Система управления складом кристаллов

Веб-приложение для управления запасами кристаллов на складе. Приложение позволяет вести учет поступлений, расхода и возврата кристаллов.

---

## Функционал

- **Поиск**: Поиск кристаллов по различным параметрам.
- **Поступление**: Учет поступления новых кристаллов.
- **Расход**: Учет распределения или использования кристаллов.
- **Возврат**: Управление возвратом кристаллов на склад.
- **Управление корзиной**:
  - Добавление кристаллов в корзину.
  - Корректировка количества в корзине.
  - Экспорт содержимого корзины в Excel.
  - Очистка корзины для текущего пользователя.

---

## Используемые технологии

- **Backend**: Flask (Python)
- **Frontend**: HTML, CSS, JavaScript
- **База данных**: PostgreSQL
- **Обработка Excel**: Pandas, openpyxl

---

## Установка и настройка

1. **Клонировать репозиторий**:
   ```bash
   git clone https://your.gitlab.repo.url.git
   cd crystal-warehouse

2. **Создать виртуальное окружение**:
   ```bash
   python -m venv venv
   source venv/bin/activate   # Для Windows: venv\\Scripts\\activate

3. **Установить зависимости**:
   ```bash
   pip install -r requirements.txt

4. **Настроить базу данных**: 
   Создайте базу данных PostgreSQL.
   Обновите файл .env с учетными данными для базы данных:
   `DATABASE_URL=postgresql://username:password@localhost:5432/dbname`

5. **Запустить приложение:**:
   flask run
   Приложение будет доступно по адресу http://127.0.0.1:5000.

## Структура проекта

crystal-warehouse/
├── app/
│   ├── static/           # CSS, JS и изображения
│   ├── templates/        # HTML-шаблоны
│   ├── __init__.py       # Инициализация Flask приложения
│   ├── routes.py         # Маршруты приложения
│   ├── models.py         # Модели базы данных
│   ├── forms.py          # Формы для ввода данных
│   └── utils.py          # Вспомогательные функции
├── migrations/           # Миграции базы данных
├── requirements.txt      # Зависимости Python
├── .env                  # Переменные окружения
└── README.md             # Документация проекта


## Использование

1. **Авторизация: Войдите в приложение по адресу http://127.0.0.1:5000**.

2. **Главное меню**:
   Переходите в модули (Поиск, Поступление, Расход, Возврат).

3. **Корзина**:
   Добавляйте кристаллы в корзину из результатов поиска.
   Корректируйте количество прямо в корзине.
   Экспортируйте содержимое корзины в файл Excel.

## Таблицы базы данных

   - **Результаты поиска**: Хранит результаты пользовательских запросов.
   - **Корзина**: Содержит товары в корзине для каждого пользователя.
   - **Транзакции**: Учет поступлений, расходов и возвратов.

## Экспорт в Excel

   - Содержимое корзины можно экспортировать в Excel с заранее заданными столбцами.
   - После загрузки временный Excel-файл автоматически удаляется с сервера.

## Лицензия

   Проект распространяется под лицензией MIT. Подробнее: https://mit-license.org/.

## Участники

   Разработчик: Полин Евгений Павлович, telegram: @PolinEP, e-mail: polin-ep@yandex.ru

## Планы
   Реализация HTTPS для безопасной передачи данных.
   Интеграция с внешними платформами для повышения удобства.
